"use strict";var ccd3t=function(){var ccd3t={DatasetGenerator:function(cond){var default_cond={series_cnt:3,values_cnt:20,x:ccd3t.sequence_date,y:ccd3t.random_int,z:void 0,random_ceil:100,random_floor:0,seq_start:1,seq_step:1,date_start:new Date(2014,0,1),date_seq_step:864e5,numeric_str_len:5,random_str_len:8,walk_start_ceil:100,walk_start_floor:50,walk_step:1};cond||(cond={}),ccd3.Util.merge(default_cond,cond),ccd3.Util.merge(this,default_cond)}};return ccd3t.DatasetGenerator.prototype.generate=function(cond){cond&&ccd3.Util.merge(this,cond);var value,cur_axis,pos,axis=["x","y","z","label"];this.dataset=[];for(var i=0;i<this.series_cnt;i++){this.dataset.push({values:[]});for(var j=0;j<this.values_cnt;j++){value={};for(var k=0;k<axis.length;k++)pos={series_pos:i,value_pos:j,axis:axis[k]},this[cur_axis=axis[k]]&&(value[cur_axis]=this[cur_axis].call(this,pos));this.dataset[i].values.push(value)}}return this.dataset},ccd3t.random_int=function(){return parseInt((this.random_ceil-this.random_floor)*Math.random()+this.random_floor)},ccd3t.random_float=function(){return parseFloat((this.random_ceil-this.random_floor)*Math.random()+this.random_floor)},ccd3t.random_str=function(){var list="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";list=list.split("");for(var str="",i=0;i<this.random_str_len;i++)str+=list[Math.floor(Math.random()*list.length)];return str},ccd3t.sequence_int=function(pos){return parseInt(pos.value_pos*this.seq_step+this.seq_start)},ccd3t.sequence_float=function(pos){return parseFloat(pos.value_pos*this.seq_step+this.seq_start)},ccd3t.sequence_date=function(pos){return new Date(pos.value_pos*this.date_seq_step+this.date_start.getTime())},ccd3t.sequence_str=function(pos){return d3.format("0"+this.numeric_str_len+"d")(pos.value_pos)},ccd3t.matrix_x_int=function(pos){return parseInt((pos.value_pos+1)%Math.pow(this.values_cnt,.5))+1},ccd3t.matrix_y_int=function(pos){return parseInt(pos.value_pos/Math.pow(this.values_cnt,.5))+1},ccd3t.matrix_x_str=function(pos){return d3.format("0"+this.numeric_str_len+"d")(parseInt((pos.value_pos+1)%Math.pow(this.values_cnt,.5)))},ccd3t.matrix_y_str=function(pos){return d3.format("0"+this.numeric_str_len+"d")(parseInt(pos.value_pos/Math.pow(this.values_cnt,.5)))},ccd3t.random_walk_int=function(pos){return this.dataset[pos.series_pos].values[pos.value_pos-1]?parseInt(this.dataset[pos.series_pos].values[pos.value_pos-1][pos.axis]+(Math.random()<.5?1:-1)*this.walk_step):parseInt((this.walk_start_ceil-this.walk_start_floor)*Math.random()+this.walk_start_floor)},ccd3t}(),ccd3_dataset=((ccd3_dataset={}).random_diff=function(options){void 0===options&&(options={});for(var series_num=options.series_num?options.series_num:5,scale=options.scale?options.scale:100,cnt=options.cnt?options.cnt:10,dataset=[],i=0;i<series_num;i++){var series=[],tdate=new Date;tdate=new Date(tdate.getFullYear(),tdate.getMonth(),tdate.getDate());for(var y=.5+.5*Math.random(),z=.5+.5*Math.random(),j=0;j<cnt;j++)y+=(Math.random()-.5)/cnt,z+=(Math.random()-.5)/cnt,tdate.setDate(tdate.getDate()+1),series.push({x:new Date(tdate.getTime()),y:y*scale,z:z*scale});dataset.push({values:series})}return dataset},ccd3_dataset.sin_cos_tan=function(options){void 0===options&&(options={});var cnt=options.cnt?options.cnt:100,sin=[],cos=[],tan=[],tdate=new Date;tdate=new Date(tdate.getFullYear(),tdate.getMonth(),tdate.getDate());for(var i=0;i<cnt;i++)sin.push({x:new Date(tdate.getTime()),y:Math.sin(i/10)}),cos.push({x:new Date(tdate.getTime()),y:Math.cos(i/10)}),tan.push({x:new Date(tdate.getTime()),y:Math.tan(i/10)}),tdate.setDate(tdate.getDate()+1);return[{name:"sin",values:sin},{name:"cos",values:cos},{name:"tan",values:tan}]},ccd3_dataset.random_weekday=function(options){void 0===options&&(options={});for(var series_num=options.series_num?options.series_num:5,scale=options.scale?options.scale:100,dataset=[],weekday_list=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=0;i<series_num;i++){for(var series=[],tdate=new Date,j=0;j<7;j++){var y=Math.random()*scale,z=Math.random()*scale;tdate.setDate(tdate.getDate()+1),series.push({x:weekday_list[tdate.getDay()],y:y*scale,z:z*scale})}dataset.push({values:series})}return dataset},ccd3_dataset.random_xylabel=function(options){void 0===options&&(options={});for(var scale=options.scale?options.scale:100,cnt=options.cnt?options.cnt:10,random_drop=options.random_drop?options.random_drop:0,series=[],i=0;i<cnt;i++)for(var j=0;j<cnt;j++)random_drop?Math.random()>random_drop&&series.push({x:"label"+i,y:"label"+j,z:Math.random()*scale}):series.push({x:"label"+i,y:"label"+j,z:Math.random()*scale});return[{values:series}]},ccd3_dataset.random_xyz_grid=function(options){void 0===options&&(options={});for(var scale=options.scale?options.scale:100,cnt=options.cnt?options.cnt:10,random_drop=options.random_drop?options.random_drop:0,series=[],i=0;i<cnt;i++)for(var j=0;j<cnt;j++)random_drop?Math.random()>random_drop&&series.push({x:i,y:j,z:Math.random()*scale}):series.push({x:i,y:j,z:Math.random()*scale});return[{values:series}]},ccd3_dataset.random_xyz=function(options){void 0===options&&(options={});for(var series_num=options.series_num?options.series_num:5,scale=options.scale?options.scale:100,cnt=options.cnt?options.cnt:10,dataset=[],i=0;i<series_num;i++){for(var series=[],j=0;j<cnt;j++)series.push({x:Math.random()*scale,y:Math.random()*scale,z:Math.random()*scale});dataset.push({values:series})}return dataset},ccd3_dataset.correlative_xyz=function(options){void 0===options&&(options={});for(var series_num=options.series_num?options.series_num:5,scale=options.scale?options.scale:100,cnt=options.cnt?options.cnt:10,dataset=[],i=0;i<series_num;i++){for(var series=[],j=0;j<cnt;j++){var z=Math.random(),y=z*(1-.6*(Math.random()-.5)),x=z*(1-.6*(Math.random()-.5));series.push({x:x*scale,y:y*scale,z:z*scale})}dataset.push({values:series})}return dataset},ccd3_dataset);